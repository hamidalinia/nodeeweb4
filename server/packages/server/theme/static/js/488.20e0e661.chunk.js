"use strict";(self.webpackChunkgomrok24=self.webpackChunkgomrok24||[]).push([[488],{99970:(e,t,i)=>{i.d(t,{F2:()=>f,UO:()=>h,vE:()=>S,YU:()=>x,Ms:()=>F,jI:()=>w,EV:()=>u,Aj:()=>g,E8:()=>O,e5:()=>V,Wy:()=>p,AM:()=>j,E9:()=>k,ZL:()=>z,WT:()=>Z,rz:()=>L});var r=i(47313),a=i(75590),n=i(65622),s=i(8869),l=i(61708),o=i(46417);const u=(0,a.Zh)()((function(e){let{field:t,t:i}=e,{type:a,kind:l,size:u,className:c,name:d,label:m,placeholder:f,value:v={}}=t,[h,b]=(0,r.useState)(v);return"multiLang"==l?(0,o.jsxs)(s.JX,{sm:u?u.sm:"",lg:u?u.lg:"",className:"MGD "+c,children:[(0,o.jsx)("label",{htmlFor:d,children:i(m||d)}),(0,o.jsx)(n.gN,{name:d,className:"mb-2 form-control",children:e=>{let{input:i}=e,r={};i.value&&(r=i.value),0==Object.keys(r).length&&(r={"":""});let a=Object.keys(r).map(((i,r)=>(0,o.jsxs)("div",{className:"max-width100",children:[(0,o.jsxs)("div",{className:"width-less",children:[(0,o.jsx)("label",{htmlFor:i,children:"the key"}),(0,o.jsx)("input",{name:e.input.name,className:"ltr form-control",type:"text",value:i||"fa",placeholder:"key"})]}),(0,o.jsxs)("div",{className:"width-more",children:[(0,o.jsx)("label",{htmlFor:d,children:"value"}),(0,o.jsx)("input",{className:"form-control",name:e.input.name,onChange:e=>{let i={};i.fa=e.target.value;let r=h;r.fa=i.fa,b(r),t.setValue(d,i)},type:"text",placeholder:"value",value:h.fa})]})]})));return a}})]}):(0,o.jsxs)(s.JX,{sm:u?u.sm:"",lg:u?u.lg:"",className:"MGD "+c,children:[(0,o.jsx)("label",{htmlFor:d,children:i(m)}),(0,o.jsx)(n.gN,{name:d,className:"mb-2 form-control",children:e=>{let{input:i}=e,r={};if(i.value&&(r=i.value),"object"===typeof i.value){if(0==Object.keys(r).length&&(r={"":""}),"object"===typeof i.value){let i=Object.keys(r).map(((i,r)=>(0,o.jsxs)("div",{className:"max-width100",children:[(0,o.jsxs)("div",{className:"width-less",children:[(0,o.jsx)("label",{htmlFor:i,children:"theKey"}),(0,o.jsx)("input",{name:e.input.name,className:"ltr form-control",onChange:e=>{let i={};window.f=e.target.value,i[e.target.value]="",t.setValue(d,i)},type:"text",value:i,placeholder:"key"})]}),(0,o.jsxs)("div",{className:"width-more",children:[(0,o.jsx)("label",{htmlFor:d,children:"value"}),(0,o.jsx)("input",{className:"form-control",name:e.input.name,onChange:e=>{let i={};i[window.f]=e.target.value,t.setValue(d,i)},type:"text",placeholder:"value",value:h[i]})]})]})));return i}return"string"==typeof i.value?(0,o.jsxs)("div",{className:"width100%",children:[(0,o.jsx)("label",{htmlFor:d,children:"value"}),(0,o.jsx)("textarea",{className:"the-textarea",name:e.input.name,onChange:e=>{t.setValue(d,{})},placeholder:"value",defaultValue:e.input.value})]}):void 0}}})]})}));var c=i(5211),d=i(78819);function m(e){let{field:t}=e;const{t:i}=(0,a.$G)(),{type:l,kind:u,size:m,className:f,name:v,label:h,placeholder:b,value:p=[],child:g,setValue:S}=t;if(!Array.isArray(p))return null;let[y,x]=(0,r.useState)(p||[]);return(0,o.jsxs)(s.JX,{sm:m?m.sm:"",lg:m?m.lg:"",className:"MGD arrayField "+f,children:[(0,o.jsxs)("div",{className:"col d-flex justify-content-sb",children:[(0,o.jsx)("label",{htmlFor:v,children:i(h||v)}),(0,o.jsx)(s.zx,{size:"small",className:"flLeft p-1",onClick:e=>{e.preventDefault(),(()=>{let e=[...y,g];x(e)})()},children:(0,o.jsx)(c.Z,{})})]}),(0,o.jsx)(n.gN,{name:v,className:"mb-2 form-control",children:()=>y.map(((e,t)=>(0,o.jsxs)("div",{className:"row array-child-"+t,children:[g&&g.map(((i,r)=>{let a="".concat(v,"[").concat(t,"].").concat(i.name),n=L(i.type);return(0,o.jsx)(n,{field:{...i,value:e&&i.name?e[i.name]:{},name:a,setValue:S}},r)})),(0,o.jsx)("span",{children:(0,o.jsx)(s.zx,{onClick:e=>{e.preventDefault(),(e=>{let t=y.filter(((t,i)=>e!==i));x(t)})(t)},children:(0,o.jsx)(d.Z,{})})})]},t)))})]})}const f=(0,r.memo)(m);var v=i(67426);const h=(0,a.Zh)()((function(e){let{field:t,t:i}=e;const{type:r,kind:a,size:l,className:u,name:c,label:d,placeholder:m,value:f=!1}=t;return(0,o.jsxs)(s.JX,{sm:l?l.sm:"",lg:l?l.lg:"",className:"MGD "+u,children:[(0,o.jsx)("label",{htmlFor:c,children:i(d||c)}),(0,o.jsx)(n.gN,{name:c,initialValue:f,className:"mb-2 form-control",type:"checkbox",children:e=>{let{input:t}=e,{value:i,checked:r}=t;return(0,o.jsx)(v.Z,{checked:r,name:e.input.name,onChange:e.input.onChange})}})]})}));var b=i(94146);function p(e){let{field:t,style:i}=e;const{t:u}=(0,a.$G)();let{size:c,className:d,entity:m,optionName:f,optionValue:v,onChange:h,required:p,options:g=[],limit:S=1e3,name:y,label:x,placeholder:j="\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f",value:N}=t,[E,k]=(0,r.useState)(N),[F,w]=(0,r.useState)(g||[]);return(0,r.useEffect)((()=>{S&&(S=parseInt(S)),m&&0===F.length&&(0,l.k86)(m,0,S).then((e=>{w(e)})).catch((e=>{}))}),[]),(0,o.jsxs)(s.JX,{sm:c?c.sm:"",lg:c?c.lg:"",className:(0,b.Z)("MGD",d),children:[(0,o.jsx)("label",{htmlFor:y,children:x===y?"":u(x)}),(0,o.jsxs)(n.gN,{name:y,component:"select",type:"select",allowNull:!0,required:p,style:i,className:"mb-2 form-control",onChange:e=>{if(k(e.target.value),h){let i=F.filter(((t,i)=>v?t[v]===e.target.value:v?void 0:t.value===e.target.value));i&&i[0]&&i[0].values&&(e.list=i[0].values),t.setValue(y,e.target.value),h(e)}else t.setValue(y,e.target.value)},children:[(0,o.jsx)("option",{value:"",children:j}),F.map(((e,t)=>(0,o.jsx)("option",{value:v?e[v]:e.value,children:f?e[f]:u(e.title)},t)))]})]})}const g=(0,a.Zh)()((function(e){let{field:t,t:i}=e;const{type:a,style:l,kind:u,size:c,className:d,name:m,label:f,options:v,placeholder:h,value:b}=t;let[p,g]=(0,r.useState)(b);return(0,o.jsxs)(s.JX,{sm:c?c.sm:"",lg:c?c.lg:"",className:"MGD "+d,children:[(0,o.jsx)("label",{htmlFor:m,children:i(f||m)}),(0,o.jsx)(n.gN,{name:m,component:"input",type:"text",style:l,placeholder:h||i(f||m),format:e=>{if(e)return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},parse:e=>{if(e)return e.toString().replace(/,/g,"")},className:"mb-2 form-control ltr"})]})}));const S=(0,a.Zh)()((function(e){let{field:t,t:i}=e,{type:a,style:u,kind:c,size:d,className:m,entity:f,searchbox:v=!0,limit:h=1e3,name:b,options:p=[],label:g,placeholder:S,value:y}=t,[x,j]=(0,r.useState)(p),[N,E]=(0,r.useState)("");return(0,r.useEffect)((()=>{h&&(h=parseInt(h)),f&&0===x.length&&(0,l.k86)(f,0,h).then((e=>{j(e)})).catch((e=>{}))}),[]),(0,r.useEffect)((()=>{}),[]),(0,o.jsx)(s.JX,{sm:d?d.sm:"",lg:d?d.lg:"",className:"MGD "+m,children:(0,o.jsx)(n.gN,{name:b,children:e=>{let{input:t,meta:r}=e;return(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:b,children:i(g)}),(0,o.jsx)("div",{className:"d-flex ",children:x&&x.map(((e,t)=>(0,o.jsxs)("label",{className:"checkbox-items p-1",children:[(0,o.jsx)(n.gN,{name:b,component:"input",style:u,type:"checkbox",value:e.value}),(0,o.jsx)("span",{children:e.title})]},t)))})]})}})})}));function y(e){let{field:t}=e;const{t:i}=(0,a.$G)(),{type:l,kind:u,style:m,size:f,className:v,name:h,label:b,placeholder:p,value:g=[],child:S,setValue:y,initialChild:x={attribute:"",values:[]}}=t;if(!Array.isArray(g))return null;let[j,N]=(0,r.useState)(g),[E,k]=(0,r.useState)(g||[]);return(0,o.jsxs)(s.JX,{sm:f?f.sm:"",lg:f?f.lg:"",className:"MGD arrayField "+v,children:[(0,o.jsxs)("div",{className:"col d-flex justify-content-sb",children:[(0,o.jsx)("label",{htmlFor:h,children:i(b||h)}),(0,o.jsx)(s.zx,{size:"small",className:"flLeft p-1",onClick:e=>{e.preventDefault(),(()=>{let e=[...E,S],t=x,i=g;i.push(t),k(e),y(h,i)})()},children:(0,o.jsx)(c.Z,{})})]}),(0,o.jsx)(n.gN,{name:h,style:m,className:"mb-2 form-control",children:()=>E.map(((e,t)=>(0,o.jsxs)("div",{className:"row array-child-"+t,children:[S&&S.map(((i,r)=>{let a="".concat(h,"[").concat(t,"].").concat(i.name),n=L(i.type),s=e&&i.name?e[i.name]:{};return 0==r?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(n,{field:{...i,onChange:e=>{if(e){let r=[...j];r[t]||(r[t]=x),r[t][i.name]=e.target.value,r[t].list=e.list,N([...r]),y(a,e.target.value)}},value:s,name:a,setValue:y}},r)}):1===r&&j[t]&&j[t].list?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(n,{field:{...i,options:j[t].list,value:[],name:a,setValue:y}},r)}):void 0})),(0,o.jsx)("span",{children:(0,o.jsx)(s.zx,{onClick:e=>{e.preventDefault(),(e=>{let t=E.filter(((t,i)=>e!==i)),i=g.filter(((t,i)=>e!==i));k(t),y(h,i)})(t)},children:(0,o.jsx)(d.Z,{})})})]},t)))})]})}const x=(0,r.memo)(y);const j=(0,a.Zh)()((function(e){let{field:t,t:i}=e;const{type:a,kind:u,size:c,className:d,name:m,label:f,placeholder:v,value:h}=t;let[b,p]=(0,r.useState)(h),[g,S]=(0,r.useState)([]);return(0,r.useEffect)((()=>{(0,l.uce)("customer",0,100,b).then((e=>{S(e)}))}),[b]),(0,o.jsxs)(s.JX,{sm:c?c.sm:"",lg:c?c.lg:"",className:"MGD "+d,children:[(0,o.jsx)("label",{htmlFor:m,children:i(f||m)}),(0,o.jsx)(n.gN,{name:m,onBlur:e=>{input.onBlur(e)},className:"mb-2 form-control",children:e=>{let{input:t}=e;return(0,o.jsx)("input",{name:m,onChange:e=>{(e=>{p(e.target.value)})(e)},value:b,type:"text"})}}),g&&g.length>0&&(0,o.jsx)("div",{className:"list-to-choose",children:g.map(((e,t)=>(0,o.jsx)("div",{children:e.phoneNumber},t)))})]})}));function N(e){const{t:t}=(0,a.$G)(),{type:i,kind:l,size:u,className:c,name:d,label:m,options:f,placeholder:v,value:h}=e;let[b,p]=(0,r.useState)(h);return(0,o.jsxs)(s.JX,{sm:u?u.sm:"",lg:u?u.lg:"",className:"MGD "+c,children:[(0,o.jsx)("label",{htmlFor:d,children:m===d?"":t(m)}),(0,o.jsx)(n.gN,{name:d,component:"input",type:"text",placeholder:v,onChange:e=>{field.setValue(d,e.target.value)},className:"mb-2 form-control ltr"})]})}const E=(0,r.memo)(N);const k=(0,a.Zh)()((function(e){const{className:t,name:i,style:a,value:n,placeholder:s}=e;let[l,u]=(0,r.useState)("");return(0,o.jsx)("textarea",{type:"text",name:i,className:t,placeholder:s,onChange:e=>{(e=>{u(e.target.value)})(e)},value:l,style:a})}));const F=(0,a.Zh)()((function(e){let{field:t,t:i}=e;const{type:a,kind:l,size:u,className:c,name:d,label:m,placeholder:f,value:v}=t;let[h,b]=(0,r.useState)(v);return(0,o.jsxs)(s.JX,{sm:u?u.sm:"",lg:u?u.lg:"",className:"MGD "+c,children:[(0,o.jsx)("label",{htmlFor:d,children:i(m||d)}),(0,o.jsx)(n.gN,{name:d,onBlur:e=>{input.onBlur(e)},className:"mb-2 form-control",children:e=>{let{input:t}=e;return(0,o.jsx)(Editor,{name:d,className:"ltr",onChange:e=>{(e=>{b(e.target.value)})(e)},value:h,type:"text"})}})]})}));const w=(0,a.Zh)()((function(e){let{field:t,t:i}=e;const{type:a,style:l,kind:u,size:c,className:d,name:m,label:f,options:v,placeholder:h,value:b}=t;let[p,g]=(0,r.useState)(b);return(0,o.jsxs)(s.JX,{sm:c?c.sm:"",lg:c?c.lg:"",className:"MGD "+d,children:[(0,o.jsx)("label",{htmlFor:m,children:f===m?"":i(f)}),(0,o.jsx)(n.gN,{name:m,component:"input",type:"number",style:l,placeholder:h||i(f||m),className:"mb-2 form-control ltr"})]})}));const V=(0,a.Zh)()((function(e){let{field:t,t:i}=e,{type:a,style:u,kind:c,size:d,className:m,entity:f,searchbox:v=!0,limit:h=1e3,name:b,options:p=[],label:g,placeholder:S,value:y}=t,[x,j]=(0,r.useState)(p),[N,E]=(0,r.useState)("");return(0,r.useEffect)((()=>{h&&(h=parseInt(h)),f&&0===x.length&&(0,l.k86)(f,0,h).then((e=>{j(e)})).catch((e=>{}))}),[]),(0,r.useEffect)((()=>{}),[]),(0,o.jsx)(s.JX,{sm:d?d.sm:"",lg:d?d.lg:"",className:"MGD "+m,children:(0,o.jsx)(n.gN,{name:b,children:e=>{let{input:t,meta:i}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("label",{htmlFor:b,children:g}),(0,o.jsx)("div",{className:"d-flex ",children:x&&x.map(((e,t)=>(0,o.jsxs)("label",{className:"checkbox-items p-1",children:[(0,o.jsx)(n.gN,{name:b,component:"input",style:u,type:"radio",value:e.value}),(0,o.jsx)("span",{children:e.title})]},t)))})]})}})})}));const O=(0,a.Zh)()((function(e){let{field:t,t:i}=e,{type:a,style:u,kind:c,classes:d,size:m,className:f,entity:v,searchbox:h=!0,limit:b=1e3,name:p,backgroundImage:g,wrapperClassName:S,options:y=[],onChange:x,label:j,placeholder:N,value:E}=t,k="piano"==S?[{title:"C",value:"C",subtitle:"do"},{title:"D",value:"D",subtitle:"re",blackt:!0},{title:"E",value:"E",subtitle:"mi",blackt:!0},{title:"F",value:"F",subtitle:"fa"},{title:"G",value:"G",subtitle:"sol",blackt:!0},{title:"A",value:"A",subtitle:"la",blackt:!0},{title:"B",value:"B",subtitle:"ti",blackt:!0}]:y,[F,w]=(0,r.useState)(k),[V,O]=(0,r.useState)("");(0,r.useEffect)((()=>{b&&(b=parseInt(b)),v&&0===F.length&&(0,l.k86)(v,0,b).then((e=>{w(e)})).catch((e=>{}))}),[]),(0,r.useEffect)((()=>{}),[]);let C=null===d||void 0===d?void 0:d.split(" ");return(0,o.jsx)(s.JX,{sm:m?m.sm:"",lg:m?m.lg:"",className:"MGD "+f,children:(0,o.jsx)(n.gN,{name:p,children:e=>{let{input:t,meta:i}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("label",{className:"qestion-help",htmlFor:p,children:(0,o.jsxs)("div",{className:"qestion-help-inside font-family-digi",children:[" ",j]})}),"lines-5"==C[0]&&(0,o.jsxs)("div",{className:d,children:[(0,o.jsx)("hr",{}),(0,o.jsx)("hr",{}),(0,o.jsx)("hr",{}),(0,o.jsx)("hr",{}),(0,o.jsx)("hr",{})]}),g&&(0,o.jsx)("img",{src:l.nSf+"/"+g})]})}})})}));function C(e){let{field:t}=e;const{t:i}=(0,a.$G)(),{size:n,className:l,name:u,label:c,placeholder:d,value:m,style:f,required:v=!1,accept:h="image/*",multiple:b=!1}=t;let[p,g]=(0,r.useState)(m);return(0,o.jsxs)(s.JX,{sm:n?n.sm:"",lg:n?n.lg:"",className:"MGD "+l,children:[(0,o.jsx)("label",{htmlFor:u,children:i(c||u)}),(0,o.jsx)("input",{name:u,accept:h,multiple:b,style:f,required:v,type:"file",placeholder:d||i(c||u),onChange:e=>{t.setValue(u,e.target.files[0])},className:"mb-2 form-control ltr"})]})}const Z=(0,r.memo)(C);function q(e){let{field:t}=e;const{t:i}=(0,a.$G)(),{type:n,kind:l,size:u,className:c,name:d,label:m,options:f,placeholder:v,value:h}=t;let[b,p]=(0,r.useState)(h);return(0,o.jsxs)(s.JX,{sm:u?u.sm:"",lg:u?u.lg:"",className:"MGD "+c,children:[(0,o.jsx)("label",{htmlFor:d,children:i(m||d)}),(0,o.jsx)("input",{name:d,accept:".xlsx,.xls,.doc, .docx,.ppt, .pptx,.txt,.pdf,.zip",type:"file",placeholder:v||i(m||d),onChange:e=>{t.setValue(d,e.target.value)},className:"mb-2 form-control ltr"})]})}const z=(0,r.memo)(q),L=e=>{switch(e){case"object":return u;case"string":case"color":default:return E;case"radio":return V;case"price":return g;case"number":return w;case"select":return p;case"checkbox":return S;case"boolean":return h;case"question":return O}}},13488:(e,t,i)=>{i.r(t),i.d(t,{default:()=>b});var r=i(47313),a=i(58467),n=i(8869),s=i(82036),l=i(65622),o=i(85281),u=(i(99970),i(61708)),c=i(75590),d=i(2135),m=i(94146),f=i(89477),v=i(46417);const h=(0,c.Zh)()((e=>{let{questions:t,className:i,_id:a,questionWrapperClasses:n,t:c}=e;const[h,b]=(0,r.useState)(0),[p,g]=(0,r.useState)(0),[S,y]=(0,r.useState)(!1),[x,j]=(0,r.useState)(0),[N,E]=(0,r.useState)(!1);let k="piano",F=[{title:"C",value:"do",subtitle:"do"},{title:"D",value:"re",subtitle:"re",blackt:!0},{title:"E",value:"mi",subtitle:"mi",blackt:!0},{title:"F",value:"fa",subtitle:"fa"},{title:"G",value:"sol",subtitle:"sol",blackt:!0},{title:"A",value:"la",subtitle:"la",blackt:!0},{title:"B",value:"si",subtitle:"si",blackt:!0}],[w,V]=(0,r.useState)(F);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{style:{display:"flex",justifyContent:"left"},children:(0,v.jsxs)(d.rU,{url:"/profile",className:(0,m.Z)("btn","btn-primary","posrel","user-hear-whiteb","user-score-whiteb "),children:[(0,v.jsx)("span",{children:(0,v.jsx)(f.Z,{className:"uhw-i"})}),(0,v.jsx)("span",{style:{fontSize:"13px",paddingLeft:"10px",textAlign:"left"},className:"user-hear-whiteb-span",children:x})]})}),(0,v.jsxs)("div",{"data-index":p,className:"questions-wrapper-main ton-icon-show "+n,children:[(0,v.jsx)("div",{className:"questions-wrapper cw-"+h,style:{transform:"translate(-"+h+"px)"},children:null===t||void 0===t?void 0:t.map(((e,t)=>{let i=null===e||void 0===e?void 0:e.classes,r="name-"+t,a=(null===e||void 0===e?void 0:e.backgroundImage)||null;return(0,v.jsxs)("div",{className:"per-question "+(0!==t?"mightFaded":"")+" per-question-q"+t,children:[(0,v.jsx)("label",{className:"qestion-help",htmlFor:r,children:(0,v.jsx)("div",{className:"qestion-help-inside font-family-digi"})}),(0,v.jsxs)("div",{className:"lines-5 "+i,children:[(0,v.jsx)("hr",{}),(0,v.jsx)("hr",{}),(0,v.jsx)("hr",{}),(0,v.jsx)("hr",{}),(0,v.jsx)("hr",{})]}),a&&(0,v.jsx)("img",{src:u.nSf+"/"+a})]})}))}),(0,v.jsx)("div",{className:"per-question width-100 the-main-bar-"+k,children:(0,v.jsx)("div",{className:"d-flex questions-type-"+k,children:w&&(null===w||void 0===w?void 0:w.map(((e,i)=>(0,v.jsxs)("label",{className:"checkbox-items p-1 piano-button-"+e.value,children:[(null===e||void 0===e?void 0:e.blackt)&&(0,v.jsx)("div",{className:"blackt"}),(0,v.jsx)(l.gN,{name:name,component:"input",onClick:e=>{(e=>{let i=e.target.value,r=p,a=t[r],n=a.answer,s=a.score||0;if(i==n){var l,o;let e=document.getElementsByClassName("piano-button-"+i);e&&e[0]&&e[0].className&&(e[0].className+=" correct-choice",setTimeout((()=>{var t;null===(t=e[0])||void 0===t||t.classList.remove("correct-choice")}),500)),j((e=>e+s)),p<(null===t||void 0===t?void 0:t.length)&&g(p+1),p+1==(null===t||void 0===t?void 0:t.length)&&y(!0),document.getElementsByClassName("per-question-q"+r)[0].className+=" mightFaded",null===(l=document.getElementsByClassName("per-question-q"+(r+1))[0])||void 0===l||l.classList.remove("mightFaded");let a=null===(o=document.getElementsByClassName("per-question-q"+r)[0])||void 0===o?void 0:o.offsetWidth;r+1<(null===t||void 0===t?void 0:t.length)&&b((r+1)*parseInt(a))}else{var u,c;let e=document.getElementsByClassName("piano-button-"+n);e&&e[0]&&e[0].className&&(e[0].className+=" correct-choice",setTimeout((()=>{var t;null===(t=e[0])||void 0===t||t.classList.remove("correct-choice")}),500));let a=document.getElementsByClassName("piano-button-"+i),s=document.getElementsByClassName("questions-type-piano");a&&a[0]&&a[0].className&&(a[0].className+=" wrong-choice",setTimeout((()=>{var e;null===(e=a[0])||void 0===e||e.classList.remove("wrong-choice")}),500)),s&&s[0]&&s[0].className&&(s[0].className+=" shake-animation",setTimeout((()=>{var e;null===(e=s[0])||void 0===e||e.classList.remove("shake-animation")}),300)),p<(null===t||void 0===t?void 0:t.length)&&g(p+1),p+1==(null===t||void 0===t?void 0:t.length)&&y(!0),document.getElementsByClassName("per-question-q"+r)[0].className+=" mightFaded",null===(u=document.getElementsByClassName("per-question-q"+(r+1))[0])||void 0===u||u.classList.remove("mightFaded");let l=null===(c=document.getElementsByClassName("per-question-q"+r)[0])||void 0===c?void 0:c.offsetWidth;r+1<(null===t||void 0===t?void 0:t.length)&&b((r+1)*parseInt(l))}})(e)},type:"radio",value:e.value}),!e.subtitle&&(0,v.jsx)("span",{children:e.title}),e.subtitle&&(0,v.jsxs)("div",{className:"subtitle-ccc",children:[(0,v.jsx)("div",{children:e.title}),(0,v.jsx)("div",{children:e.subtitle})]})]},i))))})}),S&&(0,v.jsx)("div",{className:"modal fade show",style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(63, 81, 181, 0.7)"},children:(0,v.jsx)("div",{className:"modal-dialog",children:(0,v.jsxs)("div",{className:"modal-content",children:[(0,v.jsxs)("div",{className:"modal-body ltr font-family-sans-serif",children:[(0,v.jsx)("div",{style:{fontSize:"38px",textAlign:"center"},children:c("Your score")}),(0,v.jsx)("div",{style:{fontSize:"60px",textAlign:"center"},children:x})]}),(0,v.jsx)("div",{className:"modal-footer",style:{justifyContent:"center"},children:(0,v.jsxs)("button",{style:{backgroundColor:"#8317FF",alignItems:"center",display:"flex",gap:"10px"},type:"button",className:"btn btn-secondary ltr","data-dismiss":"modal",onClick:e=>{(async e=>{e.preventDefault(),E(!0);try{await(0,u.EFk)(a,{score:x,passed:!0}),y(!1),s.Am.success(c("Test submitted successfully!")),window.history.back()}catch(t){console.error("Error occurred during test submission:",t),s.Am.error(c("An error occurred while submitting the test. Please try again."))}finally{E(!1)}})(e)},children:[(0,v.jsx)("span",{children:"Finish"}),N&&(0,v.jsx)(o.Z,{style:{width:"30px",height:"30px"}})]})})]})})})]})]})})),b=(0,c.Zh)()((e=>{let{t:t}=e;const{_id:i}=(0,a.UO)(),[c,d]=(0,r.useState)(!0),[f,b]=(0,r.useState)(null),[p,g]=(0,r.useState)({}),[S,y]=(0,r.useState)("normal"),[x,j]=(0,r.useState)(0),[N,E]=(0,r.useState)(!1);(0,r.useCallback)((async e=>{e.preventDefault(),d(!0);const t={...p};submitForm(i,t).then((e=>{s.Am.success("Test submitted successfully"),g({})})).catch((e=>{console.error("Error submitting form:",e),s.Am.error("Something went wrong!")})).finally((()=>d(!1)))}),[p,i]);if((0,r.useEffect)((()=>{(e=>{(0,u.yDS)(e).then((e=>{b(e),y(e.answerMode||"normal"),d(!1)})).catch((e=>{console.error("Error fetching test data:",e),d(!1)}))})(i)}),[i]),c)return(0,v.jsx)(n.W2,{style:{textAlign:"center"},className:(0,m.Z)("main-content-container p-0 kiuytyuioiu bg-white test-the-page-q"),children:(0,v.jsx)(o.Z,{})});if(!f)return(0,v.jsx)(n.W2,{className:(0,m.Z)("main-content-container p-0 kiuytyuioiu bg-white test-the-page-q"),children:t("No test data found")});const{questions:k,classes:F,questionWrapperClasses:w}=f;return(0,v.jsx)(n.W2,{className:(0,m.Z)("main-content-container p-0 kiuytyuioiu bg-white",F),children:(0,v.jsx)(l.l0,{onSubmit:()=>{},mutators:{setValue:(e,t,i)=>{let[r,a]=e,{changeValue:n}=i;n(t,r,(()=>a))}},render:e=>{let{handleSubmit:t,form:r}=e;return(0,v.jsx)("form",{onSubmit:t,className:"container",id:i||"",children:"normal"===S?(0,v.jsx)(v.Fragment,{}):(0,v.jsx)(h,{_id:null===f||void 0===f?void 0:f._id,questions:k,className:F,questionWrapperClasses:w})})}})})}))},5211:(e,t,i)=>{var r=i(91941);t.Z=void 0;var a=r(i(45045)),n=i(46417),s=(0,a.default)((0,n.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=s},89477:(e,t,i)=>{var r=i(91941);t.Z=void 0;var a=r(i(45045)),n=i(46417),s=(0,a.default)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"}),"MonetizationOn");t.Z=s},78819:(e,t,i)=>{var r=i(91941);t.Z=void 0;var a=r(i(45045)),n=i(46417),s=(0,a.default)((0,n.jsx)("path",{d:"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"RemoveCircleOutline");t.Z=s},65622:(e,t,i)=>{i.d(t,{gN:()=>ie,l0:()=>X});var r=i(87462),a=i(63366),n=i(47313),s=".".charCodeAt(0),l=/\\(\\)?/g,o=RegExp("[^.[\\]]+|\\[(?:([^\"'][^[]*)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))","g"),u={},c=/[.[\]]+/,d=function(e){if(null===e||void 0===e||!e.length)return[];if("string"!==typeof e)throw new Error("toPath() expects a string");return null==u[e]&&(e.endsWith("[]")?u[e]=e.split(c).filter(Boolean):u[e]=function(e){var t=[];return e.charCodeAt(0)===s&&t.push(""),e.replace(o,(function(e,i,r,a){var n=e;r?n=a.replace(l,"$1"):i&&(n=i.trim()),t.push(n)})),t}(e)),u[e]},m=function(e,t){for(var i=d(t),r=e,a=0;a<i.length;a++){var n=i[a];if(void 0===r||null===r||"object"!==typeof r||Array.isArray(r)&&isNaN(n))return;r=r[n]}return r};function f(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var v=function e(t,i,n,s,l){if(i>=n.length)return s;var o=n[i];if(isNaN(o)){var u;if(void 0===t||null===t){var c,d=e(void 0,i+1,n,s,l);return void 0===d?void 0:((c={})[o]=d,c)}if(Array.isArray(t))throw new Error("Cannot set a non-numeric property on an array");var m=e(t[o],i+1,n,s,l);if(void 0===m){var v=Object.keys(t).length;if(void 0===t[o]&&0===v)return;return void 0!==t[o]&&v<=1?isNaN(n[i-1])||l?void 0:{}:(t[o],(0,a.Z)(t,[o].map(f)))}return(0,r.Z)({},t,((u={})[o]=m,u))}var h=Number(o);if(void 0===t||null===t){var b=e(void 0,i+1,n,s,l);if(void 0===b)return;var p=[];return p[h]=b,p}if(!Array.isArray(t))throw new Error("Cannot set a numeric property on an object");var g=e(t[h],i+1,n,s,l),S=[].concat(t);if(l&&void 0===g){if(S.splice(h,1),0===S.length)return}else S[h]=g;return S},h=function(e,t,i,r){if(void 0===r&&(r=!1),void 0===e||null===e)throw new Error("Cannot call setIn() with "+String(e)+" state");if(void 0===t||null===t)throw new Error("Cannot call setIn() with "+String(t)+" key");return v(e,0,d(t),i,r)},b="FINAL_FORM/form-error",p="FINAL_FORM/array-error";function g(e,t){var i=e.errors,r=e.initialValues,a=e.lastSubmittedValues,n=e.submitErrors,s=e.submitFailed,l=e.submitSucceeded,o=e.submitting,u=e.values,c=t.active,d=t.blur,f=t.change,v=t.data,h=t.focus,b=t.modified,g=t.modifiedSinceLastSubmit,S=t.name,y=t.touched,x=t.validating,j=t.visited,N=m(u,S),E=m(i,S);E&&E[p]&&(E=E[p]);var k=n&&m(n,S),F=r&&m(r,S),w=t.isEqual(F,N),V=!E&&!k;return{active:c,blur:d,change:f,data:v,dirty:!w,dirtySinceLastSubmit:!(!a||t.isEqual(m(a,S),N)),error:E,focus:h,initial:F,invalid:!V,length:Array.isArray(N)?N.length:void 0,modified:b,modifiedSinceLastSubmit:g,name:S,pristine:w,submitError:k,submitFailed:s,submitSucceeded:l,submitting:o,touched:y,valid:V,value:N,visited:j,validating:x}}var S=["active","data","dirty","dirtySinceLastSubmit","error","initial","invalid","length","modified","modifiedSinceLastSubmit","pristine","submitError","submitFailed","submitSucceeded","submitting","touched","valid","value","visited","validating"],y=function(e,t){if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),n=0;n<i.length;n++){var s=i[n];if(!a(s)||e[s]!==t[s])return!1}return!0};function x(e,t,i,r,a,n){var s=!1;return a.forEach((function(a){r[a]&&(e[a]=t[a],i&&(~n.indexOf(a)?y(t[a],i[a]):t[a]===i[a])||(s=!0))})),s}var j=["data"],N=function(e,t,i,r){var a={blur:e.blur,change:e.change,focus:e.focus,name:e.name};return x(a,e,t,i,S,j)||!t||r?a:void 0},E=["active","dirty","dirtyFields","dirtyFieldsSinceLastSubmit","dirtySinceLastSubmit","error","errors","hasSubmitErrors","hasValidationErrors","initialValues","invalid","modified","modifiedSinceLastSubmit","pristine","submitting","submitError","submitErrors","submitFailed","submitSucceeded","touched","valid","validating","values","visited"],k=["touched","visited"];function F(e,t,i,r){var a={};return x(a,e,t,i,E,k)||!t||r?a:void 0}var w=function(e){var t,i;return function(){for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return t&&a.length===t.length&&!a.some((function(e,i){return!y(t[i],e)}))||(t=a,i=e.apply(void 0,a)),i}},V=function(e){return!!e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof e.then},O=function(e,t){return e===t},C=function e(t){return Object.keys(t).some((function(i){var r=t[i];return!r||"object"!==typeof r||r instanceof Error?"undefined"!==typeof r:e(r)}))};function Z(e,t,i,r,a,n){var s=a(i,r,t,n);return!!s&&(e(s),!0)}function q(e,t,i,r,a){var n=e.entries;Object.keys(n).forEach((function(e){var s=n[Number(e)];if(s){var l=s.subscription,o=s.subscriber,u=s.notified;Z(o,l,t,i,r,a||!u)&&(s.notified=!0)}}))}function z(e){if(!e)throw new Error("No config specified");var t=e.debug,i=e.destroyOnUnregister,a=e.keepDirtyOnReinitialize,n=e.initialValues,s=e.mutators,l=e.onSubmit,o=e.validate,u=e.validateOnBlur;if(!l)throw new Error("No onSubmit function specified");var c={subscribers:{index:0,entries:{}},fieldSubscribers:{},fields:{},formState:{asyncErrors:{},dirtySinceLastSubmit:!1,modifiedSinceLastSubmit:!1,errors:{},initialValues:n&&(0,r.Z)({},n),invalid:!1,pristine:!0,submitting:!1,submitFailed:!1,submitSucceeded:!1,resetWhileSubmitting:!1,valid:!0,validating:0,values:n?(0,r.Z)({},n):{}},lastFormState:void 0},d=0,f=!1,v=!1,S=!1,x=0,j={},E=function(e,t,i){var r=i(m(e.formState.values,t));e.formState.values=h(e.formState.values,t,r)||{}},k=function(e,t,i){if(e.fields[t]){var a,n;e.fields=(0,r.Z)({},e.fields,((a={})[i]=(0,r.Z)({},e.fields[t],{name:i,blur:function(){return U.blur(i)},change:function(e){return U.change(i,e)},focus:function(){return U.focus(i)},lastFieldState:void 0}),a)),delete e.fields[t],e.fieldSubscribers=(0,r.Z)({},e.fieldSubscribers,((n={})[i]=e.fieldSubscribers[t],n)),delete e.fieldSubscribers[t];var s=m(e.formState.values,t);e.formState.values=h(e.formState.values,t,void 0)||{},e.formState.values=h(e.formState.values,i,s),delete e.lastFormState}},z=function(e){return function(){if(s){for(var t={formState:c.formState,fields:c.fields,fieldSubscribers:c.fieldSubscribers,lastFormState:c.lastFormState},i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var n=s[e](r,t,{changeValue:E,getIn:m,renameField:k,resetFieldState:U.resetFieldState,setIn:h,shallowEqual:y});return c.formState=t.formState,c.fields=t.fields,c.fieldSubscribers=t.fieldSubscribers,c.lastFormState=t.lastFormState,D(void 0,(function(){B(),J()})),n}}},L=s?Object.keys(s).reduce((function(e,t){return e[t]=z(t),e}),{}):{},A=function(e){return Object.keys(e.validators).reduce((function(t,i){var r=e.validators[Number(i)]();return r&&t.push(r),t}),[])},D=function(e,t){if(f)return v=!0,void t();var i=c.fields,a=c.formState,n=(0,r.Z)({},i),s=Object.keys(n);if(o||s.some((function(e){return A(n[e]).length}))){var l=!1;if(e){var u=n[e];if(u){var d=u.validateFields;d&&(l=!0,s=d.length?d.concat(e):[e])}}var S,N={},E={},k={},F=[].concat(function(e){var t=[];if(o){var i=o((0,r.Z)({},c.formState.values));V(i)?t.push(i.then((function(t){return e(t,!0)}))):e(i,!1)}return t}((function(e,t){t?E=e||{}:N=e||{}})),s.reduce((function(e,t){return e.concat(function(e,t){var i,r=[],a=A(e);return a.length&&(a.forEach((function(a){var n=a(m(c.formState.values,e.name),c.formState.values,0===a.length||3===a.length?g(c.formState,c.fields[e.name]):void 0);if(n&&V(n)){e.validating=!0;var s=n.then((function(i){c.fields[e.name]&&(c.fields[e.name].validating=!1,t(i))}));r.push(s)}else i||(i=n)})),t(i)),r}(i[t],(function(e){k[t]=e})))}),[])),w=F.length>0,O=++x,C=Promise.all(F).then((S=O,function(e){return delete j[S],e}));w&&(j[O]=C);var Z=function(e){var t=(0,r.Z)({},l?a.errors:{},N,e?E:a.asyncErrors),u=function(e){s.forEach((function(r){if(i[r]){var a=m(N,r),s=m(t,r),u=A(n[r]).length,c=k[r];e(r,u&&c||o&&a||(a||l?void 0:s))}}))};u((function(e,i){t=h(t,e,i)||{}})),u((function(e,i){if(i&&i[p]){var r=m(t,e),a=[].concat(r);a[p]=i[p],t=h(t,e,a)}})),y(a.errors,t)||(a.errors=t),e&&(a.asyncErrors=E),a.error=N[b]};if(w&&(c.formState.validating++,t()),Z(!1),t(),w){var q=function(){c.formState.validating--,t(),0===c.formState.validating&&c.lastFormState.validating&&J()};C.then((function(){x>O||Z(!0)})).then(q,q)}}else t()},B=function(e){if(!d){var t=c.fields,i=c.fieldSubscribers,a=c.formState,n=(0,r.Z)({},t),s=function(e){var t=n[e],r=g(a,t),s=t.lastFieldState;t.lastFieldState=r;var l=i[e];l&&q(l,r,s,N,void 0===s)};e?s(e):Object.keys(n).forEach(s)}},M=function(){Object.keys(c.fields).forEach((function(e){c.fields[e].touched=!0}))},G=function(){var e=c.fields,t=c.formState,i=c.lastFormState,a=(0,r.Z)({},e),n=Object.keys(a),s=!1,l=n.reduce((function(e,i){return!a[i].isEqual(m(t.values,i),m(t.initialValues||{},i))&&(s=!0,e[i]=!0),e}),{}),o=n.reduce((function(e,i){var r=t.lastSubmittedValues||{};return a[i].isEqual(m(t.values,i),m(r,i))||(e[i]=!0),e}),{});t.pristine=!s,t.dirtySinceLastSubmit=!(!t.lastSubmittedValues||!Object.values(o).some((function(e){return e}))),t.modifiedSinceLastSubmit=!(!t.lastSubmittedValues||!Object.keys(a).some((function(e){return a[e].modifiedSinceLastSubmit}))),t.valid=!t.error&&!t.submitError&&!C(t.errors)&&!(t.submitErrors&&C(t.submitErrors));var u=function(e){var t=e.active,i=e.dirtySinceLastSubmit,r=e.modifiedSinceLastSubmit,a=e.error,n=e.errors,s=e.initialValues,l=e.pristine,o=e.submitting,u=e.submitFailed,c=e.submitSucceeded,d=e.submitError,m=e.submitErrors,f=e.valid,v=e.validating,h=e.values;return{active:t,dirty:!l,dirtySinceLastSubmit:i,modifiedSinceLastSubmit:r,error:a,errors:n,hasSubmitErrors:!!(d||m&&C(m)),hasValidationErrors:!(!a&&!C(n)),invalid:!f,initialValues:s,pristine:l,submitting:o,submitFailed:u,submitSucceeded:c,submitError:d,submitErrors:m,valid:f,validating:v>0,values:h}}(t),d=n.reduce((function(e,t){return e.modified[t]=a[t].modified,e.touched[t]=a[t].touched,e.visited[t]=a[t].visited,e}),{modified:{},touched:{},visited:{}}),f=d.modified,v=d.touched,h=d.visited;return u.dirtyFields=i&&y(i.dirtyFields,l)?i.dirtyFields:l,u.dirtyFieldsSinceLastSubmit=i&&y(i.dirtyFieldsSinceLastSubmit,o)?i.dirtyFieldsSinceLastSubmit:o,u.modified=i&&y(i.modified,f)?i.modified:f,u.touched=i&&y(i.touched,v)?i.touched:v,u.visited=i&&y(i.visited,h)?i.visited:h,i&&y(i,u)?i:u},R=!1,I=!1,J=function e(){if(R)I=!0;else{if(R=!0,t&&t(G(),Object.keys(c.fields).reduce((function(e,t){return e[t]=c.fields[t],e}),{})),!d&&(!f||!S)){var i=c.lastFormState,r=G();r!==i&&(c.lastFormState=r,q(c.subscribers,r,i,F))}R=!1,I&&(I=!1,e())}},P=function(){return Object.keys(c.fields).forEach((function(e){return c.fields[e].modifiedSinceLastSubmit=!1}))};D(void 0,(function(){J()}));var U={batch:function(e){d++,e(),d--,B(),J()},blur:function(e){var t=c.fields,i=c.formState,a=t[e];a&&(delete i.active,t[e]=(0,r.Z)({},a,{active:!1,touched:!0}),u?D(e,(function(){B(),J()})):(B(),J()))},change:function(e,t){var i=c.fields,a=c.formState;if(m(a.values,e)!==t){E(c,e,(function(){return t}));var n=i[e];n&&(i[e]=(0,r.Z)({},n,{modified:!0,modifiedSinceLastSubmit:!!a.lastSubmittedValues})),u?(B(),J()):D(e,(function(){B(),J()}))}},get destroyOnUnregister(){return!!i},set destroyOnUnregister(e){i=e},focus:function(e){var t=c.fields[e];t&&!t.active&&(c.formState.active=e,t.active=!0,t.visited=!0,B(),J())},mutators:L,getFieldState:function(e){var t=c.fields[e];return t&&t.lastFieldState},getRegisteredFields:function(){return Object.keys(c.fields)},getState:function(){return G()},initialize:function(e){var t=c.fields,i=c.formState,n=(0,r.Z)({},t),s="function"===typeof e?e(i.values):e;a||(i.values=s);var l=a?Object.keys(n).reduce((function(e,t){return n[t].isEqual(m(i.values,t),m(i.initialValues||{},t))||(e[t]=m(i.values,t)),e}),{}):{};i.initialValues=s,i.values=s,Object.keys(l).forEach((function(e){i.values=h(i.values,e,l[e])||{}})),D(void 0,(function(){B(),J()}))},isValidationPaused:function(){return f},pauseValidation:function(e){void 0===e&&(e=!0),f=!0,S=e},registerField:function(e,t,r,a){void 0===r&&(r={}),c.fieldSubscribers[e]||(c.fieldSubscribers[e]={index:0,entries:{}});var n=c.fieldSubscribers[e].index++;c.fieldSubscribers[e].entries[n]={subscriber:w(t),subscription:r,notified:!1};var s=c.fields[e]||{active:!1,afterSubmit:a&&a.afterSubmit,beforeSubmit:a&&a.beforeSubmit,data:a&&a.data||{},isEqual:a&&a.isEqual||O,lastFieldState:void 0,modified:!1,modifiedSinceLastSubmit:!1,name:e,touched:!1,valid:!0,validateFields:a&&a.validateFields,validators:{},validating:!1,visited:!1};s.blur=s.blur||function(){return U.blur(e)},s.change=s.change||function(t){return U.change(e,t)},s.focus=s.focus||function(){return U.focus(e)},c.fields[e]=s;var l=!1,o=a&&a.silent,u=function(){o&&c.fields[e]?B(e):(J(),B())};if(a){l=!(!a.getValidator||!a.getValidator()),a.getValidator&&(c.fields[e].validators[n]=a.getValidator);var d=void 0===m(c.formState.values,e);void 0===a.initialValue||!d&&m(c.formState.values,e)!==m(c.formState.initialValues,e)||(c.formState.initialValues=h(c.formState.initialValues||{},e,a.initialValue),c.formState.values=h(c.formState.values,e,a.initialValue),D(void 0,u)),void 0!==a.defaultValue&&void 0===a.initialValue&&void 0===m(c.formState.initialValues,e)&&d&&(c.formState.values=h(c.formState.values,e,a.defaultValue))}return l?D(void 0,u):u(),function(){var t=!1;c.fields[e]&&(t=!(!c.fields[e].validators[n]||!c.fields[e].validators[n]()),delete c.fields[e].validators[n]);var r=!!c.fieldSubscribers[e];r&&delete c.fieldSubscribers[e].entries[n];var a=r&&!Object.keys(c.fieldSubscribers[e].entries).length;a&&(delete c.fieldSubscribers[e],delete c.fields[e],t&&(c.formState.errors=h(c.formState.errors,e,void 0)||{}),i&&(c.formState.values=h(c.formState.values,e,void 0,!0)||{})),o||(t?D(void 0,(function(){J(),B()})):a&&J())}},reset:function(e){void 0===e&&(e=c.formState.initialValues),c.formState.submitting&&(c.formState.resetWhileSubmitting=!0),c.formState.submitFailed=!1,c.formState.submitSucceeded=!1,delete c.formState.submitError,delete c.formState.submitErrors,delete c.formState.lastSubmittedValues,U.initialize(e||{})},resetFieldState:function(e){c.fields[e]=(0,r.Z)({},c.fields[e],{active:!1,lastFieldState:void 0,modified:!1,touched:!1,valid:!0,validating:!1,visited:!1}),D(void 0,(function(){B(),J()}))},restart:function(e){void 0===e&&(e=c.formState.initialValues),U.batch((function(){for(var t in c.fields)U.resetFieldState(t),c.fields[t]=(0,r.Z)({},c.fields[t],{active:!1,lastFieldState:void 0,modified:!1,modifiedSinceLastSubmit:!1,touched:!1,valid:!0,validating:!1,visited:!1});U.reset(e)}))},resumeValidation:function(){f=!1,S=!1,v&&D(void 0,(function(){B(),J()})),v=!1},setConfig:function(e,r){switch(e){case"debug":t=r;break;case"destroyOnUnregister":i=r;break;case"initialValues":U.initialize(r);break;case"keepDirtyOnReinitialize":a=r;break;case"mutators":s=r,r?(Object.keys(L).forEach((function(e){e in r||delete L[e]})),Object.keys(r).forEach((function(e){L[e]=z(e)}))):Object.keys(L).forEach((function(e){delete L[e]}));break;case"onSubmit":l=r;break;case"validate":o=r,D(void 0,(function(){B(),J()}));break;case"validateOnBlur":u=r;break;default:throw new Error("Unrecognised option "+e)}},submit:function(){var e=c.formState;if(!e.submitting){if(delete e.submitErrors,delete e.submitError,e.lastSubmittedValues=(0,r.Z)({},e.values),c.formState.error||C(c.formState.errors))return M(),P(),c.formState.submitFailed=!0,J(),void B();var t=Object.keys(j);if(t.length)Promise.all(t.map((function(e){return j[Number(e)]}))).then(U.submit,console.error);else if(!Object.keys(c.fields).some((function(e){return c.fields[e].beforeSubmit&&!1===c.fields[e].beforeSubmit()}))){var i,a=!1,n=function(t){e.submitting=!1;var r=e.resetWhileSubmitting;return r&&(e.resetWhileSubmitting=!1),t&&C(t)?(e.submitFailed=!0,e.submitSucceeded=!1,e.submitErrors=t,e.submitError=t[b],M()):(r||(e.submitFailed=!1,e.submitSucceeded=!0),Object.keys(c.fields).forEach((function(e){return c.fields[e].afterSubmit&&c.fields[e].afterSubmit()}))),J(),B(),a=!0,i&&i(t),t};e.submitting=!0,e.submitFailed=!1,e.submitSucceeded=!1,e.lastSubmittedValues=(0,r.Z)({},e.values),P();var s=l(e.values,U,n);if(!a){if(s&&V(s))return J(),B(),s.then(n,(function(e){throw n(),e}));if(l.length>=3)return J(),B(),new Promise((function(e){i=e}));n(s)}}}},subscribe:function(e,t){if(!e)throw new Error("No callback given.");if(!t)throw new Error("No subscription provided. What values do you want to listen to?");var i=w(e),r=c.subscribers,a=r.index++;r.entries[a]={subscriber:i,subscription:t,notified:!1};var n=G();return Z(i,t,n,n,F,!0),function(){delete r.entries[a]}}};return U}var L=["render","children","component"];function A(e,t,i){var r=e.render,s=e.children,l=e.component,o=(0,a.Z)(e,L);if(l)return n.createElement(l,Object.assign(t,o,{children:s,render:r}));if(r)return r(void 0===s?Object.assign(t,o):Object.assign(t,o,{children:s}));if("function"!==typeof s)throw new Error("Must specify either a render prop, a render function as children, or a component prop to "+i);return s(Object.assign(t,o))}function D(e,t,i){void 0===i&&(i=function(e,t){return e===t});var r=n.useRef(e);n.useEffect((function(){i(e,r.current)||(t(),r.current=e)}))}var B=function(e,t){if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),n=0;n<i.length;n++){var s=i[n];if(!a(s)||e[s]!==t[s])return!1}return!0},M=function(e){return!(!e||"function"!==typeof e.stopPropagation)},G=n.createContext();function R(e){var t=n.useRef(e);return n.useEffect((function(){t.current=e})),t}var I=function(e,t,i){i.forEach((function(i){Object.defineProperty(e,i,{get:function(){return t[i]},enumerable:!0})}))},J=function(e,t){return I(e,t,["active","dirty","dirtyFields","dirtySinceLastSubmit","dirtyFieldsSinceLastSubmit","error","errors","hasSubmitErrors","hasValidationErrors","initialValues","invalid","modified","modifiedSinceLastSubmit","pristine","submitError","submitErrors","submitFailed","submitSucceeded","submitting","touched","valid","validating","values","visited"])},P=["debug","decorators","destroyOnUnregister","form","initialValues","initialValuesEqual","keepDirtyOnReinitialize","mutators","onSubmit","subscription","validate","validateOnBlur"],U={"final-form":"4.20.10","react-final-form":"6.5.8"},W=E.reduce((function(e,t){return e[t]=!0,e}),{});function X(e){var t=e.debug,i=e.decorators,s=void 0===i?[]:i,l=e.destroyOnUnregister,o=e.form,u=e.initialValues,c=e.initialValuesEqual,d=e.keepDirtyOnReinitialize,m=e.mutators,f=e.onSubmit,v=e.subscription,h=void 0===v?W:v,b=e.validate,p=e.validateOnBlur,g=(0,a.Z)(e,P),S={debug:t,destroyOnUnregister:l,initialValues:u,keepDirtyOnReinitialize:d,mutators:m,onSubmit:f,validate:b,validateOnBlur:p},y=function(e){var t=n.useRef();return t.current||(t.current=e()),t.current}((function(){var e=o||z(S);return e.pauseValidation(),e})),x=n.useState((function(){var e={};return y.subscribe((function(t){e=t}),h)(),e})),j=x[0],N=x[1],E=R(j);n.useEffect((function(){y.isValidationPaused()&&y.resumeValidation();var e=[y.subscribe((function(e){B(e,E.current)||N(e)}),h)].concat(s?s.map((function(e){return e(y)})):[]);return function(){y.pauseValidation(),e.reverse().forEach((function(e){return e()}))}}),s),D(t,(function(){y.setConfig("debug",t)})),D(l,(function(){y.destroyOnUnregister=!!l})),D(d,(function(){y.setConfig("keepDirtyOnReinitialize",d)})),D(u,(function(){y.setConfig("initialValues",u)}),c||B),D(m,(function(){y.setConfig("mutators",m)})),D(f,(function(){y.setConfig("onSubmit",f)})),D(b,(function(){y.setConfig("validate",b)})),D(p,(function(){y.setConfig("validateOnBlur",p)}));var k={form:(0,r.Z)({},y,{reset:function(e){M(e)?y.reset():y.reset(e)}}),handleSubmit:function(e){return e&&("function"===typeof e.preventDefault&&e.preventDefault(),"function"===typeof e.stopPropagation&&e.stopPropagation()),y.submit()}};return J(k,j),n.createElement(G.Provider,{value:y},A((0,r.Z)({},g,{__versions:U}),k,"ReactFinalForm"))}function T(e){var t=n.useContext(G);if(!t)throw new Error((e||"useForm")+" must be used inside of a <Form> component");return t}var $="undefined"!==typeof window&&window.navigator&&window.navigator.product&&"ReactNative"===window.navigator.product;function _(e){var t=n.useRef(e);return n.useEffect((function(){t.current=e})),n.useCallback((function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t.current.apply(null,i)}),[])}var H=S.reduce((function(e,t){return e[t]=!0,e}),{}),Y=function(e,t){return void 0===e?"":e},K=function(e,t){return""===e?void 0:e},Q=function(e,t){return e===t};function ee(e,t){void 0===t&&(t={});var i=t,r=i.afterSubmit,a=i.allowNull,s=i.component,l=i.data,o=i.defaultValue,u=i.format,c=void 0===u?Y:u,d=i.formatOnBlur,m=i.initialValue,f=i.multiple,v=i.parse,h=void 0===v?K:v,b=i.subscription,p=void 0===b?H:b,g=i.type,S=i.validateFields,y=i.value,x=T("useField"),j=R(t),N=function(t,i){return x.registerField(e,t,p,{afterSubmit:r,beforeSubmit:function(){var t=j.current,i=t.beforeSubmit,r=t.formatOnBlur,a=t.format,n=void 0===a?Y:a;if(r){var s=x.getFieldState(e).value,l=n(s,e);l!==s&&x.change(e,l)}return i&&i()},data:l,defaultValue:o,getValidator:function(){return j.current.validate},initialValue:m,isEqual:function(e,t){return(j.current.isEqual||Q)(e,t)},silent:i,validateFields:S})},E=n.useRef(!0),k=n.useState((function(){var e={},t=x.destroyOnUnregister;return x.destroyOnUnregister=!1,N((function(t){e=t}),!0)(),x.destroyOnUnregister=t,e})),F=k[0],w=k[1];n.useEffect((function(){return N((function(e){E.current?E.current=!1:w(e)}),!1)}),[e,l,o,m]);var V={};!function(e,t){I(e,t,["active","data","dirty","dirtySinceLastSubmit","error","initial","invalid","length","modified","modifiedSinceLastSubmit","pristine","submitError","submitFailed","submitSucceeded","submitting","touched","valid","validating","visited"])}(V,F);var O={name:e,get value(){var t=F.value;return d?"input"===s&&(t=Y(t)):t=c(t,e),null!==t||a||(t=""),"checkbox"===g||"radio"===g?y:"select"===s&&f?t||[]:t},get checked(){var t=F.value;return"checkbox"===g?(t=c(t,e),void 0===y?!!t:!(!Array.isArray(t)||!~t.indexOf(y))):"radio"===g?c(t,e)===y:void 0},onBlur:_((function(e){if(F.blur(),d){var t=x.getFieldState(F.name);F.change(c(t.value,F.name))}})),onChange:_((function(t){var i=t&&t.target?function(e,t,i,r){if(!r&&e.nativeEvent&&void 0!==e.nativeEvent.text)return e.nativeEvent.text;if(r&&e.nativeEvent)return e.nativeEvent.text;var a=e.target,n=a.type,s=a.value,l=a.checked;switch(n){case"checkbox":if(void 0!==i){if(l)return Array.isArray(t)?t.concat(i):[i];if(!Array.isArray(t))return t;var o=t.indexOf(i);return o<0?t:t.slice(0,o).concat(t.slice(o+1))}return!!l;case"select-multiple":return function(e){var t=[];if(e)for(var i=0;i<e.length;i++){var r=e[i];r.selected&&t.push(r.value)}return t}(e.target.options);default:return s}}(t,F.value,y,$):t;F.change(h(i,e))})),onFocus:_((function(e){return F.focus()}))};return f&&(O.multiple=f),void 0!==g&&(O.type=g),{input:O,meta:V}}var te=["afterSubmit","allowNull","beforeSubmit","children","component","data","defaultValue","format","formatOnBlur","initialValue","isEqual","multiple","name","parse","subscription","type","validate","validateFields","value"],ie=n.forwardRef((function(e,t){var i=e.afterSubmit,s=e.allowNull,l=e.beforeSubmit,o=e.children,u=e.component,c=e.data,d=e.defaultValue,m=e.format,f=e.formatOnBlur,v=e.initialValue,h=e.isEqual,b=e.multiple,p=e.name,g=e.parse,S=e.subscription,y=e.type,x=e.validate,j=e.validateFields,N=e.value,E=(0,a.Z)(e,te),k=ee(p,{afterSubmit:i,allowNull:s,beforeSubmit:l,children:o,component:u,data:c,defaultValue:d,format:m,formatOnBlur:f,initialValue:v,isEqual:h,multiple:b,parse:g,subscription:S,type:y,validate:x,validateFields:j,value:N});if("function"===typeof o)return o((0,r.Z)({},k,E));if("string"===typeof u)return n.createElement(u,(0,r.Z)({},k.input,{children:o,ref:t},E));if(!p)throw new Error("prop name cannot be undefined in <Field> component");return A((0,r.Z)({children:o,component:u,ref:t},E),k,"Field("+p+")")}))}}]);