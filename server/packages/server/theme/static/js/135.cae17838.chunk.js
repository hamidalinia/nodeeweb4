"use strict";(self.webpackChunkgomrok24=self.webpackChunkgomrok24||[]).push([[135],{5135:(e,s,t)=>{t.r(s),t.d(s,{default:()=>N});var a=t(94146),l=t(90505),n=t(47313),r=t(8869),c=t(2135),i=t(85554),o=t(61708),d=t(82036),h=t(75590),m=(t(17237),t(11198)),x=t(9109),u=t(46417);const p=(0,h.Zh)()((function(e){let{t:s,hideLogoText:t=!1}=e;const a=(0,i.v9)((e=>!!e.store.cardVisible)),l=(0,i.v9)((e=>e.store.card));let n=0;return l&&l.length&&(n=l.length),(0,u.jsx)("div",{className:"main-navbar",children:(0,u.jsxs)(r.wp,{className:"align-items-stretch bg-white flex-md-nowrap border-bottom p-0",type:"light",children:[(0,u.jsx)("div",{className:"d-sm-inline ",children:(0,u.jsxs)("div",{className:"jhgfdfg",children:[(0,u.jsx)(x.Z,{}),n,(0,u.jsx)("span",{className:"ml-1 mr-2",children:s("item")})]})}),(0,u.jsx)("div",{className:"toggle-sidebar d-sm-inline",onClick:()=>(0,o.oOu)(a),children:(0,u.jsx)(m.Z,{})})]})})}));t(68562);var f=t(23148);const g=(0,h.Zh)()((e=>{let{props:s,t:t}=e;const l=(0,i.v9)((e=>e.store.themeData));l.currency||(l.currency="toman");const h=(0,i.v9)((e=>!!e.store.cardVisible)),m=(0,i.v9)((e=>e.store.card)),x=(0,a.Z)("main-sidebar","card-sidebar","px-0","col-12",h&&"open");let[g,j]=(0,n.useState)(0),[N,v]=(0,n.useState)(0),[b,w]=(0,n.useState)(f.ZP.getState().store.lan||"fa");const y=async e=>{let s=[];await m.forEach((async(t,a)=>{e!==a?await s.push(t):e===a&&(g-=(t.salePrice||t.price)*t.count)})),(g<0||s.length<1)&&(g=0),await(0,o.OVh)(s,g).then((()=>{j(g),(0,d.Am)(t("Item deleted!"),{type:"warning"})}))},k=async()=>{(0,d.Am)(t("You did not add anything to cart!"),{type:"error"})},P=e=>{if(l.tax&&l.taxAmount){let s=parseInt(l.taxAmount);e=parseInt((s/100+1)*parseInt(e))}if(e)return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" "+t(l.currency)};let C=0;return(0,u.jsxs)(r.JX,{tag:"aside",className:x,lg:{size:3},md:{size:4},children:[(0,u.jsx)(p,{}),(0,u.jsx)("div",{flush:"true",className:"card-add",children:m&&m.length>0&&m.map(((e,s)=>{let t=!(null===e||void 0===e||!e.oneItemPerOrder)&&e.oneItemPerOrder;!(null===e||void 0===e||!e.notBuyableAlone)&&e.notBuyableAlone;return C+=e.count*(e.salePrice||e.price),(0,u.jsxs)(r.WI,{className:"d-flex px-3 border-0 wedkuhg",children:[(0,u.jsx)("div",{className:"flex-1 txc",children:!t&&(0,u.jsxs)("div",{className:"bge",children:[(0,u.jsxs)(r.zx,{className:" thisiscarda",onClick:e=>{e.preventDefault(),(async e=>{g=0;let s=[];await m.forEach((async(t,a)=>{g+=(t.salePrice||t.price)*t.count,e===a&&(t.count=t.count+1,g+=(t.salePrice||t.price)*t.count),await s.push(t)})),await(0,o.OVh)(s,g).then((()=>{j(g)}))})(s).then((e=>{}))},children:[" ",(0,u.jsx)("span",{className:"material-icons",children:"add"})]}),(0,u.jsx)("div",{className:"number",children:e.count}),(0,u.jsxs)(r.zx,{className:" thisiscarda",onClick:e=>{e.preventDefault(),(async e=>{g=0;let s=[];await m.forEach((async(t,a)=>{g+=(t.salePrice||t.price)*t.count,e!==a||(t.count=t.count-1,g-=(t.salePrice||t.price)*t.count,0!==t.count)?await s.push(t):y(e)})),await(0,o.OVh)(s,g).then((()=>{j(g)}))})(s).then((e=>{}))},children:[" ",(0,u.jsx)("span",{className:"material-icons",children:"remove"})]})]})}),(0,u.jsx)("div",{className:"flex-1 txc imgds mr-2 ml-2",children:(null===e||void 0===e?void 0:e.photos)&&(null===e||void 0===e?void 0:e.photos[0])&&(0,u.jsx)("img",{className:"gfdsdf",src:o.nSf+"/"+e.photos[0]})}),(0,u.jsxs)("div",{className:"flex-8 mr-2",children:[(0,u.jsx)("div",{className:"ttl",children:e.title[b]}),e.price&&!e.salePrice&&(0,u.jsx)("div",{className:"prc",children:P(e.price)}),e.price&&e.salePrice&&(0,u.jsxs)("div",{className:"prc",children:[P(e.salePrice),(0,u.jsx)("del",{className:"ml-2",children:P(e.price)})]})]}),(0,u.jsx)("div",{className:"flex-1",children:(0,u.jsxs)(r.zx,{className:"notred smallx",onClick:()=>{y(s).then((e=>{}))},children:[" ",(0,u.jsx)("span",{className:"material-icons",children:"delete"})]})})]},s)}))}),(0,u.jsxs)("div",{className:"fdsdf pl-3 pr-3",onClick:()=>(0,o.oOu)(!0),children:[m&&m.length>0&&(m.some((e=>e.notBuyableAlone))&&1===m.length?(0,u.jsx)("div",{className:"alert alert-warning mt-4",children:t("You must add other items to purchase this product.")}):(0,u.jsxs)(c.rU,{to:"/checkout",className:"go-to-checkout ml-auto ffgg btn btn-accent btn-lg mt-4 posrel textAlignLeft",children:[(0,u.jsx)("span",{className:"gfdfghj",children:t("Checkout")}),(0,u.jsx)("span",{className:"juytrftyu",children:C&&(0,u.jsx)("span",{className:"ttl gtrf",children:P(C)})})]})),!m||!m.length&&(0,u.jsxs)(r.zx,{onClick:()=>k,className:"go-to-checkout-without-items ml-auto ffgg btn btn-accent btn-lg mt-4 posrel textAlignLeft",children:[(0,u.jsx)("span",{className:"gfdfghj",children:t("Checkout")}),(0,u.jsx)("span",{className:"juytrftyu",children:C&&(0,u.jsx)("span",{className:"ttl gtrf",children:P(C)})})]})]})]})})),j=e=>{const{children:s,width:t,noNavbar:n,onChange:r=(()=>null),themeData:c}=e;if(!c)return;let i=(0,o.ttg)(c.header);delete i.maxWidth;let d=(0,o.ttg)(c.footer);return delete d.maxWidth,(0,u.jsxs)(u.Fragment,{children:[c.header&&c.header.elements&&(0,u.jsx)("header",{style:i,className:"main-header d-flex  "+c.header.classes+(c.header.showInDesktop?" showInDesktop ":"")+(c.header.showInMobile?" showInMobile ":""),children:(0,u.jsx)(l.Z,{elements:c.header.elements,maxWidth:c.header.maxWidth})}),s,(0,u.jsx)(g,{}),c.footer&&c.footer.elements&&(0,u.jsx)("footer",{style:d,className:(0,a.Z)("main-footer border-top",c.footer.classes),children:(0,u.jsx)(l.Z,{elements:c.footer.elements,maxWidth:c.footer.maxWidth})})]})};j.defaultProps={noNavbar:!1,noFooter:!1};const N=j}}]);